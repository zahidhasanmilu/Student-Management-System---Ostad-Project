{% extends 'layout/base.html' %}
{% load static %}


{% block title %}
Dashboard | Student Management System
{% endblock title %}



{% block content %}
<div class="page-wrapper">
   <div class="content container-fluid">
      <div class="page-header">
         <div class="row">
            <div class="col-sm-12">
               <!-- messages start -->
               {% if messages %}
               {% for message in messages %}
               <div {% if message.tags %} class="alert alert-{{ message.tags }} alert-dismissible fade show"
                  role="alert" {% endif %}>
                  <strong>
                     <h5 class="text-center">{{ message }}</h5>
                  </strong>
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                     <span aria-hidden="true">&times;</span>
                  </button>
               </div>
               {% endfor %}
               {% endif %}
               <!-- messages end  -->
               {% if request.user.is_authenticated %}
               <h3 class="page-title">Welcome {{user.username|capfirst}}!</h3>
               {% else %}
               <h3 class="page-title">Welcome Guest!</h3>
               {% endif %}

               <ul class="breadcrumb">
                  <li class="breadcrumb-item active">Dashboard</li>
               </ul>
            </div>
         </div>
      </div>
      <div class="row">
         <a href="{% url 'all_student' %}" class="col-xl-3 col-sm-6 col-12 d-flex text-decoration-none">
            <div class="card bg-one w-100">
               <div class="card-body">
                  <div class="db-widgets d-flex justify-content-between align-items-center">
                     <div class="db-icon">
                        <i class="fas fa-user-graduate"></i>
                     </div>
                     <div class="db-info">
                        <h3>{{ students.count }}</h3>
                        <h6>Students</h6>
                     </div>
                  </div>
               </div>
            </div>
         </a>

         <a href="{% url 'all_course' %}" class="col-xl-3 col-sm-6 col-12 d-flex text-decoration-none">
            <div class="card bg-three w-100">
               <div class="card-body">
                  <div class="db-widgets d-flex justify-content-between align-items-center">
                     <div class="db-icon">
                        <i class="fas fa-building"></i>
                     </div>
                     <div class="db-info">
                        <h3>{{ courses.count }}</h3>
                        <h6>Courses</h6>
                     </div>
                  </div>
               </div>
            </div>
         </a>
      </div>

      <div class="row">
         <div class="col-md-9 d-flex">
            <div class="card flex-fill">
               <div class="card-header">
                  <h5 class="card-title">Active Students</h5>
               </div>
               <div class="card-body">
                  <div class="table-responsive">
                     <table class="table table-hover table-bordered table-center">
                        <thead class="thead-light">
                           <tr>
                              <th>SN.</th>
                              <th>Name</th>

                              <th class="text-center">Course</th>
                           </tr>
                        </thead>
                        <tbody>
                           {% for student in active_students %}
                           <tr>
                              <td class="text-nowrap">
                                 <div>{{forloop.counter}}</div>
                              </td>
                              <td class="text-nowrap">{{student.name}}</td>

                              <td class="text-center">{{student.course}}</td>
                           </tr>
                           {% endfor %}
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
         </div>
         <div class="col-md-3 d-flex">
            <div class="card flex-fill">
               <div class="card-header">
                  <h5 class="card-title">Dammy Next Event</h5>
               </div>
               <div class="card-body">
                  <ul class="activity-feed">
                     <li class="feed-item">
                        <div class="feed-date">Apr 13</div>
                        <span class="feed-text"><a>John Doe</a> won 1st place in <a>"Chess"</a></span>
                     </li>
                     <li class="feed-item">
                        <div class="feed-date">Mar 21</div>
                        <span class="feed-text"><a>Justin Lee</a> participated in <a
                              href="">"Carrom"</a></span>
                     </li>
                     <li class="feed-item">
                        <div class="feed-date">Feb 2</div>
                        <span class="feed-text"><a>Justin Lee</a>attended internation conference in <a
                              href="">"St.John School"</a></span>
                     </li>
                     <li class="feed-item">
                        <div class="feed-date">Apr 13</div>
                        <span class="feed-text"><a>John Doe</a> won 1st place in <a>"Chess"</a></span>
                     </li>
                     <li class="feed-item">
                        <div class="feed-date">Mar 21</div>
                        <span class="feed-text"><a>Justin Lee</a> participated in <a
                              href="">"Carrom"</a></span>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>

   </div>
</div>
{% endblock content %}